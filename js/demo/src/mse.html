<!doctype html>
<html lang="en" class="dark">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MoQ Demo (MSE)</title>

	<link rel="stylesheet" href="index.css">
	<link rel="icon" type="image/svg+xml" href="/favicon.svg">
</head>

<body class="dark:bg-black p-4">
	<!--
		This demo uses MSE (Media Source Extensions) instead of WebCodecs.
		MSE has broader device support but higher latency compared to the WebCodecs canvas renderer.

		See index.html for more details on these components.
	-->
	<moq-watch-support show="warning"></moq-watch-support>

	<moq-watch-ui>
		<moq-watch id="watch" url="%VITE_RELAY_URL%" name="bbb" muted jitter="200" reload>
			<video style="width: 100%; height: auto;" autoplay muted></video>
		</moq-watch>
	</moq-watch-ui>

	<moq-watch-config id="config" url="%VITE_RELAY_URL%" name="bbb"></moq-watch-config>

	<h3>Other demos:</h3>
	<ul>
		<li><a href="index.html">Watch a broadcast (WebCodecs).</a></li>
		<li><a href="publish.html">Publish a broadcast.</a></li>
	</ul>

	<h3>Tips:</h3>
	<p>
		This demo uses <a href="https://developer.mozilla.org/en-US/docs/Web/API/Media_Source_Extensions_API">MSE (Media
			Source Extensions)</a>
		via a <code>&lt;video&gt;</code> element instead of WebCodecs via <code>&lt;canvas&gt;</code>.
		MSE has broader device support but higher latency.
	</p>
	<p>
		To use MSE, provide a <code>&lt;video&gt;</code> element instead of a <code>&lt;canvas&gt;</code> element:
	<pre><code class="language-html">&lt;moq-watch url="https://cdn.moq.dev/anon" name="bbb"&gt;
	&lt;video style="max-width: 100%; height: auto;" autoplay muted&gt;&lt;/video&gt;
&lt;/moq-watch&gt;</code></pre>
	</p>
</body>

<script type="module" src="index.ts"></script>

</html>
